<div class="container-fluid listar-component">
    <div class="row">
        <div class="col col-sm-2">
        </div>
        <div class="col col-sm-6 col-centered">
            <table class="table table-striped responsive">
                <thead class="thead-dark">
                    <tr>

                        <th>Persona id</th>
                        <th>Nombre</th>
                        <th>Tipo</th>
                        <th>FechaIngreso</th>
                        <th>Objetivos</th>
                        <th>SolicitudEspecial</th>
                        <th>TarjetaFidelidad</th>
                        <th>TiempoEsperadoMejora</th>

                    </tr>
                </thead>
                <tbody>

                    <tr *ngFor="let p of personas">

                        <td style="cursor: pointer;">
                            <a class="figure-caption" (click)="onSelected(p.id)">{{p.id}}</a>
                        </td>
                        <td>{{p.nombre}}</td>
                        <td>{{p.tipo}}</td>
                        <td>{{p.fechaIngreso}}</td>
                        <td>{{p.objetivos}}</td>
                        <td>{{p.solicitudEspecial}}</td>
                        <td>{{p.tarjetaFidelidad}}</td>
                        <td>{{p.tiempoEsperadoMejora}}</td>
                        <td>
                                <button *ngxPermissionsOnly="['ADMIN']" type="col button"
                                    class=" button btn btn-primary btn-lg btn-block"
                                    [ngClass]="{'btn-primary' : !mostrarEditar, 'btn-danger':mostrarEditar}"
                                    (click)="mostrarEditarM(p.id)"><span class="fa fa-pencil"></span></button>

                            </td>

                    </tr>
                </tbody>
            </table>
        </div>
        <div class="col col-sm-4">
        </div>

    </div>
    <div class="row">
        <div  class="col col-centered">
            <div *ngIf="selectedPersona.id">
                <app-persona-detail [calificacionesYComentarios]="selectedPersona.calificacionesYComentarios"
                    [quejasYReclamos]="selectedPersona.quejasYReclamos" [dietas]="selectedPersona.dietas"
                    [pagos]="selectedPersona.pagos" [fotos2]="selectedPersona.fotos"> </app-persona-detail>
            </div>
        </div>

    </div>
    

</div>

<div class="row">
        <div class="col col-sm-3">
        </div>
        <div class="col-sm-4 col-centered">

            <button *ngxPermissionsOnly="['ADMIN']" type="col button" class="btn btn-primary btn-lg btn-block"
                [ngClass]="{'btn-primary' : !mostrarCrear, 'btn-danger':mostrarCrear}" (click)="mostrarCrearM()">AÃ±adir
                Persona
            </button>
        </div>
        <div class="col col-sm-5">
        </div>
    </div>
    <div class="row ">

        <div class="col col-sm-5 margins">
            <div *ngIf="mostrarCrear">

                <app-persona-create (cancel)="mostrarCrearM()" (create)="ngOnInit()"></app-persona-create>

            </div>
        </div>
        <div class="col col-sm-5 margins">
            <div *ngIf="mostrarEditar">

                <app-persona-edit [personas_id]="personas_id" (cancel)="mostrarEditarM()" (update)="ngOnInit()">
                </app-persona-edit>

            </div>
        </div>


    </div>

